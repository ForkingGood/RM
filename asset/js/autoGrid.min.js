/* ======================================================= 
 * Auto Grid Responsive Gallery
 * By David Blanco
 *
 * Contact: http://codecanyon.net/user/davidbo90
 *
 * Created: June 6, 2013
 *
 * Copyright (c) 2013, David Blanco. All rights reserved.
 * Released under CodeCanyon License http://codecanyon.net/
 *
 * Note: Script based in jQuery Masonry v2.1.07 made by David DeSandro http://masonry.desandro.com/ (under MIT)
 *
 * ======================================================= */

(function(e,f,g){var b=f.event,a=f.event.handle?"handle":"dispatch",d;b.special.smartresize={setup:function(){f(this).bind("resize",b.special.smartresize.handler)},teardown:function(){f(this).unbind("resize",b.special.smartresize.handler)},handler:function(k,h){var j=this,i=arguments;k.type="smartresize";if(d){clearTimeout(d)}d=setTimeout(function(){b[a].apply(j,i)},h==="execAsap"?0:100)}};f.fn.smartresize=function(h){return h?this.bind("smartresize",h):this.trigger("smartresize",["execAsap"])};f.Mason=function(h,i){this.element=f(i);this._create(h);this._init()};f.Mason.settings={isResizable:true,isAnimated:false,animationOptions:{queue:false,duration:500,complete:function(){var h=f(this);if(!h.hasClass("grid-brick")){if(f.fn.grid.defaults.lazyLoad){f.waypoints("refresh")}if(h.hasClass("grid-with-loading-boxes")){h.removeClass("grid-with-loading-boxes");h.addClass("completeAddingImages")}}}},gutterWidth:0,isRTL:false,isFitWidth:false,containerStyle:{position:"relative"}};f.Mason.prototype={_resized:false,_filterFindBricks:function(i){var h=this.options.itemSelector;return !h?i:i.filter(h).add(i.find(h))},_getBricks:function(i){var h=this._filterFindBricks(i).css({position:"absolute"}).addClass("grid-brick");return h},_create:function(k){this.options=f.extend(true,{},f.Mason.settings,k);this.styleQueue=[];var j=this.element[0].style;this.originalStyle={height:j.height||""};var l=this.options.containerStyle;for(var n in l){this.originalStyle[n]=j[n]||""}this.element.css(l);this.horizontalDirection=this.options.isRTL?"right":"left";var i=this.element.css("padding-"+this.horizontalDirection);var m=this.element.css("padding-top");this.offset={x:i?parseInt(i,10):0,y:m?parseInt(m,10):0};this.isFluid=this.options.columnWidth&&typeof this.options.columnWidth==="function";var h=this;setTimeout(function(){h.element.addClass("grid")},0);if(this.options.isResizable){f(e).bind("smartresize.grid",function(){h.resize()})}this.reloadItems()},_init:function(h){this._getColumns();this._reLayout(h)},option:function(h,i){if(f.isPlainObject(h)){this.options=f.extend(true,this.options,h)}},layout:function(t,x){for(var q=0,r=t.length;q<r;q++){this._placeBrick(t[q])}var h={};h.height=Math.max.apply(Math,this.colYs);if(this.options.isFitWidth){var o=0;q=this.cols;while(--q){if(this.colYs[q]!==0){break}o++}h.width=(this.cols-o)*this.columnWidth-this.options.gutterWidth}this.styleQueue.push({$el:this.element,style:h});var k=!this.isLaidOut?"css":(this.options.isAnimated?"animate":"css"),n=this.options.animationOptions;var p;var m=false;for(q=0,r=this.styleQueue.length;q<r;q++){p=this.styleQueue[q];k=!this.isLaidOut?"css":(this.options.isAnimated?"animate":"css");var s=p.$el.hasClass("loading-box");if(s&&!this.element.hasClass("noSupportTransform")){k="css";m=true}else{if(m){p.$el.css(p.style,n)}}p.$el.removeClass("loading-box");var l=p.$el.css("left");var v=p.$el.css("top");var w=p.style.left+"px";var u=p.style.top+"px";if((l==w&&v==u)||s==true){p.$el.data("moving",false)}else{p.$el.data("moving",true)}var j=500;p.$el[k](p.style,n)}this.styleQueue=[];if(x){x.call(t)}this.isLaidOut=true},_getColumns:function(){var h=this.options.isFitWidth?this.element.parent():this.element,i=h.width();this.columnWidth=this.isFluid?this.options.columnWidth(i):this.options.columnWidth||this.$bricks.outerWidth(true)||i;this.columnWidth+=this.options.gutterWidth;this.cols=Math.floor((i+this.options.gutterWidth)/this.columnWidth);this.cols=Math.max(this.cols,1)},_placeBrick:function(q){var o=f(q),s,w,l,u,m;s=Math.ceil(o.outerWidth(true)/this.columnWidth);s=Math.min(s,this.cols);if(s===1){l=this.colYs}else{w=this.cols+1-s;l=[];for(m=0;m<w;m++){u=this.colYs.slice(m,m+s);l[m]=Math.max.apply(Math,u)}}var h=Math.min.apply(Math,l),v=0;for(var n=0,r=l.length;n<r;n++){if(l[n]===h){v=n;break}}var p={top:h+this.offset.y};p[this.horizontalDirection]=this.columnWidth*v+this.offset.x;this.styleQueue.push({$el:o,style:p});var t=h+o.outerHeight(true),k=this.cols+1-r;for(n=0;n<k;n++){this.colYs[v+n]=t}},resize:function(){var h=this.cols;this._getColumns();if(this.isFluid||this.cols!==h){this._reLayout()}},_reLayout:function(j){var h=this.cols;this.colYs=[];while(h--){this.colYs.push(0)}this.layout(this.$bricks,j)},reloadItems:function(){this.$bricks=this._getBricks(this.element.children())},reload:function(h){this.reloadItems();this._init(h)},appended:function(i,j,k){if(j){this._filterFindBricks(i).css({top:this.element.height()});var h=this;setTimeout(function(){h._appended(i,k)},1)}else{this._appended(i,k)}},_appended:function(h,j){var i=this._getBricks(h);this.$bricks=this.$bricks.add(i);this.layout(i,j)},remove:function(h){this.$bricks=this.$bricks.not(h);h.remove()},destroy:function(){this.$bricks.removeClass("grid-brick").each(function(){this.style.position="";this.style.top="";this.style.left=""});var h=this.element[0].style;for(var i in this.originalStyle){h[i]=this.originalStyle[i]}this.element.unbind(".grid").removeClass("grid").removeData("grid");f(e).unbind(".grid")}};
/*!
   * jQuery imagesLoaded plugin v1.1.0
   * http://github.com/desandro/imagesloaded
   *
   * MIT License. by Paul Irish et al.
   */
;f.fn.imagesLoaded=function(o){var m=this,k=m.find("img").add(m.filter("img")),h=k.length,n="#",j=[];function l(){o.call(m,k)}function i(q){var p=q.target;if(p.src!==n&&f.inArray(p,j)===-1){j.push(p);if(--h<=0){setTimeout(l);k.unbind(".imagesLoaded",i)}}}if(!h){l()}k.bind("load.imagesLoaded error.imagesLoaded",i).each(function(){var p=this.src;this.src=n;this.src=p});return m};var c=function(h){if(e.console){e.console.error(h)}};f.fn.grid=function(j){var h=function(y){var G=f.extend({},f.fn.grid.defaults,j);f.fn.grid.defaults.lazyLoad=j.lazyLoad;if(j==g){j={}}j.isFitWidth=G.isFitWidth;j.isAnimated=G.isAnimated;j.itemSelector=".gbox";j.gutterWidth=G.horizontalSpaceBetweenThumbnails;var u=f(y).addClass("centered").addClass("grid-clearfix");var L=G.columnWidth;if(L=="auto"){j.columnWidth=function(ay){var az=-999;for(var ax=G.columns;ax>=1;ax--){if(az<G.columnMinWidth){az=(((ay-(ax-1)*j.gutterWidth)/ax)|0)}}u.find("div.gbox").width(az);return az}}else{if((typeof L)!="function"){j.columnWidth=function(ax){var ay=L;u.find("div.gbox").width(ay);return ay}}}u.find("div.gbox").css("margin-bottom",G.verticalSpaceBetweenThumbnails);var ag=(function(){var az=document.createElement("div"),ay="Khtml ms O Moz Webkit".split(" "),ax=ay.length;return function(aA){if(aA in az.style){return true}aA=aA.replace(/^[a-z]/,function(aB){return aB.toUpperCase()});while(ax--){if(ay[ax]+aA in az.style){return true}}return false}})();if(!ag("transform")){u.addClass("noSupportTransform")}else{u.addClass("visible")}var P=null;var at=u.data("directory");var E=f('<ul class="category-navbar" />').hide().insertBefore(u);var ap=function(){var ax=E.find("li[class=select]").data("category");return ax};var ar=f("<div />").insertAfter(u);var K=function(){ar.addClass("grid-loader").removeClass("grid-loadMore").html("")};var V=function(){ar.removeClass("grid-loader")};var R=false;var r=function(aB){var ay=0;for(var aA in P){var ax=P[aA];if(aB==aA||aB=="all"){for(var az in ax){ay++}}}if(ay>0){R=false;return true}else{return false}};var v=function(ax){if(ax){ar.addClass("grid-loadMore").html("LOAD MORE IMAGES")}else{ar.removeClass("grid-loadMore").html("")}};var F=function(aA,aH,ax){var aG="thumbnails/";if(ax=="no"){aG=""}var ay=aA+"/";if(aA=="all"){ay=""}var aC=aH.split(/\.(?=[^.]*$)/)[0];var aB="<h5>In "+aA+"</h5>";if(aA=="all"||G.captionCategory==false){aB=""}var az="";if(aC.indexOf("$$")!=-1){var aE=aC.split("$$");aC=aE[0];var aF=aE[1].split(":").join("/");aF=aF.split("|").join("/");az='data-url="'+aF+'"'}if(aC.substr(1,1)=="-"){aC=aC.substr(2)}var aD='<div class="gbox" data-category="'+aA+'" '+az+'><img src="'+at+"/"+ay+aG+aH+'" data-lightbox="'+at+"/"+ay+aH+'" /><div class="image-caption"><h3>'+aC+"</h3>"+aB+'</div><div class="lightbox-text">'+aC+" <span>In "+aA+"</span></div></div>";return aD};var l=function(){var ax=ap();if(ax!="all"){u.children("div").not('.gbox[data-category="'+ax+'"]').removeClass("gbox grid-brick").hide()}};var k=function(ax){ax=f(ax).addClass("loading-box");ax.css("margin-bottom",G.verticalSpaceBetweenThumbnails);u.append(ax.hide());u.imagesLoaded(function(){ax.hide();l();u.addClass("grid-with-loading-boxes");u.grid("reload");var ay=[];ay.push(ax);ai(ay,[]);V();v(r(ap()));R=false})};var M=function(aA){var az=[];var ax=Array();for(var ay in aA){if(aA.hasOwnProperty(ay)){az.push(aA[ay].order.toLowerCase()+"-&$&$-"+ay)}}az.sort();if(G.imagesOrder=="byName"||G.imagesOrder=="byDateReverse"){}else{az.reverse()}jQuery.each(az,function(aD,aC){var aB=aC.split("-&$&$-");aB=aB[1];ax.push(aA[aB])});return ax};var s=function(az){K();var aG=0;for(var aI in P){var ax=P[aI];var ay=0;for(var aC in ax){ay++}if(ay>aG){aG=ay}}var aF=new Array();if(G.aleatoryImagesFromCategories){for(var aB=0;aB<aG;aB++){var aK=0;for(var aI in P){ax=P[aI];var aJ=aI;if(aK==0){aJ="all"}var aH=0;for(var aC in ax){if(aH==aB){aF.push({category:aJ,image:aC,thumb:ax[aC].thumb,order:ax[aC].order,categoryOriginal:aI});break}aH++}aK++}}}else{var aK=0;for(var aI in P){var ax=P[aI];var aJ=aI;if(aK==0){aJ="all"}for(var aC in ax){aF.push({category:aJ,image:aC,thumb:ax[aC].thumb,order:ax[aC].order,categoryOriginal:aI})}aK++}}if(G.orderInAll&&G.imagesOrder!="random"){aF=M(aF)}var aE="";var aD=0;while(aD<az){if(aD>=aF.length){break}var aA=aF[aD];aE+=F(aA.category,aA.image,aA.thumb);delete P[aA.categoryOriginal][aA.image];aD++}k(aE)};var ae=function(ay,aF){K();var aD=new Array();var aH=0;for(var aE in P){var ax=P[aE];var aG=aE;if(aH==0){aG="all"}if(aG==aF){for(var aA in ax){aD.push({category:aG,image:aA,thumb:ax[aA].thumb,order:ax[aA].order,categoryOriginal:aE})}}aH++}if(G.orderInAll&&G.imagesOrder!="random"){aD=M(aD)}var aC="";var aB=0;while(aB<ay){if(aB>=aD.length){break}var az=aD[aB];aC+=F(az.category,az.image,az.thumb);delete P[az.categoryOriginal][az.image];aB++}k(aC)};var aq=function(){if(ar.hasClass("grid-loadMore")){var ax=ap();if(ax=="all"){s(G.imagesToLoad)}else{ae(G.imagesToLoad,ax)}}};ar.on("click",function(){aq()});if(G.lazyLoad){ar.waypoint(function(ay){var ax=u;if(ax.hasClass("completeAddingImages")){if(ar.hasClass("grid-loadMore")){aq();ax.removeClass("completeAddingImages")}}},{context:e,continuous:true,enabled:true,horizontal:false,offset:"bottom-in-view",triggerOnce:false})}var x=function(){var ax=0;for(var ay in P){var az=f("<li />").data("category",ay).appendTo(E);f("<a />").html(ay).appendTo(az);if(ax==0){az.addClass("select");az.data("category","all")}ax++}if(G.smartNavBar&&ax<=2){G.showNavBar=false}if(G.showNavBar){E.slideDown(400)}};var ai=function(ay,az){for(var ax=0;ax<ay.length;ax++){ay[ax].each(function(){var aA=f(this).removeClass("noTransform");if(aA.hasClass("grid-brick")){if(aA.is(":hidden")){if(u.hasClass("noSupportTransform")){aA.show()}else{aA.show();if(aA.data("moving")==false){aA.animate(G.hiddenStyle,0);aA.animate(G.visibleStyle,j.animOpts,function(){aA.addClass("noTransform")})}else{aA.animate(G.visibleStyle,0);aA.addClass("noTransform")}}}else{aA.animate(G.visibleStyle,j.animOpts,function(){aA.addClass("noTransform")})}}})}for(var ax=0;ax<az.length;ax++){az[ax].each(function(){var aA=f(this).removeClass("noTransform");if(aA.is(":hidden")==false){aA.addClass("box");if(u.hasClass("noSupportTransform")){aA.hide();aA.removeClass("box")}else{aA.animate(G.visibleStyle,0);aA.animate(G.hiddenStyle,j.animOpts,function(){aA.hide();aA.removeClass("box")})}}else{}})}};f.getJSON("reader.php?directory="+at+"&categoriesOrder="+G.categoriesOrder+"&imagesOrder="+G.imagesOrder,function(ax){P=ax;if(jQuery.isArray(ax.All)){ax.All={}}E.css("display","none");x();s(G.imagesToLoadStart)});E.on("click","a",function(aF){aF.preventDefault();var aC=jQuery(this);if(aC.parent("li").hasClass("select")){return}u.removeClass("completeAddingImages");u.addClass("grid-with-loading-boxes");aC.parent("li").addClass("select").siblings("li").removeClass("select");var az=u;var ay=aC.parent("li").data("category");var aD=[];var aA=[];if(ay=="all"){var aE=az.children("div").addClass("gbox grid-brick");if(u.hasClass("noSupportTransform")){aE.css({top:200,left:200})}aD.push(aE)}else{var ax=az.children('div[data-category="'+ay+'"]').addClass("gbox grid-brick");if(ax[0]!=g){if(u.hasClass("noSupportTransform")){ax.css({top:200,left:200})}aD.push(ax.stop())}var aB=az.children("div").not('.gbox[data-category="'+ay+'"]').removeClass("gbox grid-brick");aA.push(aB)}u.grid("reload");ai(aD,aA);v(r(ap()))});u.on("mouseenter.hoverdir, mouseleave.hoverdir","div.gbox",function(aC){if(!G.caption){return}var aA=f(this),aB=aC.type,az=aA.find("div.image-caption"),aD=n(aA,{x:aC.pageX,y:aC.pageY}),ay=am(aD,aA);var aE=az.children("div.aligment");if(aE[0]==g){var ax=az.html();az.html("<div class='aligment'><div class='aligment'>"+ax+"</div></div>")}if(aB==="mouseenter"){if(G.captionType=="classic"){az.css({left:0,top:0});az.fadeIn(300);return}az.css({left:ay.from,top:ay.to});az.stop().show().fadeTo(0,1,function(){f(this).stop().animate({top:0,left:0},200,"linear")})}else{if(G.captionType=="classic"){az.css({left:0,top:0});az.fadeOut(300);return}if(G.captionType=="grid-fade"){az.fadeOut(700)}else{az.stop().animate({left:ay.from,top:ay.to},200,"linear",function(){az.hide()})}}});var n=function(az,aC){var ay=az.width(),aA=az.height(),ax=(aC.x-az.offset().left-(ay/2))*(ay>aA?(aA/ay):1),aD=(aC.y-az.offset().top-(aA/2))*(aA>ay?(ay/aA):1),aB=Math.round((((Math.atan2(aD,ax)*(180/Math.PI))+180)/90)+3)%4;return aB};var am=function(az,ay){var aA,ax;switch(az){case 0:if(!G.reverse){aA=0,ax=-ay.height()}else{aA=0,ax=-ay.height()}break;case 1:if(!G.reverse){aA=ay.width(),ax=0}else{aA=-ay.width(),ax=0}break;case 2:if(!G.reverse){aA=0,ax=ay.height()}else{aA=0,ax=-ay.height()}break;case 3:if(!G.reverse){aA=-ay.width(),ax=0}else{aA=ay.width(),ax=0}break}return{from:aA,to:ax}};var Z=f("body");var ak={interval:"none"};var p=0;var S=f('<div class="autoGrid-lightbox" />').appendTo(Z);var Y=f('<div class="autoGrid-nav" />').appendTo(S);var ab=f('<div class="autoGrid-close" />').appendTo(Y);var W=f('<i class="iconClose" />').appendTo(ab);var A=f('<div class="autoGrid-play" />');if(G.lightboxPlayBtn){A.appendTo(Y)}var H=f('<i class="iconPlay" />').appendTo(A);var ah=f('<div class="autoGrid-lbcaption" />').appendTo(Y).html("Here will go the text for the lightbox");var an=f('<div class="autoGrid-next" />').appendTo(Y);var av=f('<i class="iconNext" />').appendTo(an);var D=f('<div class="autoGrid-prev" />').appendTo(Y);var J=f('<i class="iconPrev" />').appendTo(D);var af=f('<div class="lightbox-timer" />').appendTo(S);var t=ab.width();var aa=3;if(G.lightboxPlayBtn){aa=4}var m=function(){var aA=S.outerWidth();if(aA<650){ah.hide();an.css("width",(aA/aa));D.css("width",(aA/aa));A.css("width",(aA/aa));ab.css("width",aA-((aA/aa)*(aa-1)))}else{ah.show();an.css("width",t);D.css("width",t);A.css("width",t);ab.css("width",t)}var ax=S.find("img");var az=S.outerHeight()-Y.outerHeight();ax.css("max-height",az);var ay=S.find("iframe");var az=S.outerHeight()-Y.outerHeight();if(az!=0){ay.css("max-height",az)}else{ay.css("max-height","none")}};jQuery(e).resize(function(){m()});var U=new Image();var X=function(){if(U!=null){U.onload=null;U=null}S.find(".lightbox-alignment").remove();S.find(".lightbox-alignment2").remove();S.find("img").remove()};var q=function(){S.find("iframe").remove()};var O=function(){S.find(".lb-loader").remove()};var C=function(){S.append('<div class="lb-loader"/>')};S.attr("unselectable","on").css("user-select","none").on("selectstart",false);var N=function(){af.stop(true,true).width(0)};var au=function(){clearInterval(ak.interval)};var B=function(){if(G.lightBoxShowTimer==false){return}af.css({position:"absolute",bottom:0}).animate({width:"100%"},G.lightBoxPlayInterval,"linear",function(){N()})};var aw=false;var ad=false;var Q=function(){ak.interval=setTimeout(function(){o()},G.lightBoxPlayInterval);B()};var z=function(){if(aw&&ad==false){N();au();Q()}};var w=function(ay){var ax=f('<iframe src="'+ay+'" class="lightbox-iframe" width="100%" height="100%" frameborder="0" allowfullscreen></iframe>');S.append(ax.hide());var az=ax[0];if(az.attachEvent){az.attachEvent("onload",function(){O();ax.fadeIn(G.lightBoxSpeedFx,function(){z()});m();U=new Image()})}else{az.onload=function(){O();ax.fadeIn(G.lightBoxSpeedFx,function(){z()});m();U=new Image()}}};var al=f("<span />");var I=function(aD,ay){q();X();O();C();var aB=0;var aC=0;if(ay!=true){aB=0.9;aC=G.lightBoxSpeedFx}if(G.lightBoxZoomAnim==false){aB=1}var az=aD;var aA=az.data("lightbox");if(aA==g){aA=az.attr("src")}var aI=az.siblings("div.lightbox-text").html();if(G.lightBoxText==false){aI=""}var aG="<div><div>"+aI+"</div></div>";ah.html(aG);var aH="";for(var aF in G.videos){if(aA==at+"/"+aF){aH=G.videos[aF];break}}if(aH!=""){w(aH);return}U=new Image();var ax=f(U);var aE=U;U.onload=function(){if(aE!=U){return}O();var aK=f('<div class="lightbox-alignment"></div>').appendTo(S);var aJ=f('<div class="lightbox-alignment2"></div>').appendTo(aK);aJ.append(ax.css("margin-top",-Y.outerHeight()).hide().scale(aB));ax.fadeIn(aC).animate({scale:"1"},{duration:G.lightBoxSpeedFx,complete:function(){z()}});m()};U.src=aA;al.stop(true);al=f(U)};var ao=false;var ac="";u.on("click","div.gbox",function(){ao=true;var az=f(this);var ay=az.data("url");ac="";if(ay!=g&&G.linkOnLightbox==true){ac="http://"+ay}else{if(ay!=g){e.location.href="http://"+ay;return}}if(G.lightBox==false){return}ad=false;p=u.find(".gbox").index(this);var ax=az.children("img");Y.animate({"margin-top":0},G.lightBoxSpeedFx);S.fadeIn(G.lightBoxSpeedFx);I(ax,true)});S.on("click","div",function(ax){ax.stopPropagation()});S.on("click","img",function(ax){ax.stopPropagation()});S.on("click",".lightbox-alignment",function(){aj()});S.on("click",".lightbox-alignment2",function(){aj()});S.on("click",function(){aj()});ab.on("click",function(){aj()});var aj=function(){q();if(G.lightBoxStopPlayOnClose){A.removeClass("selected");aw=false}ao=false;ad=true;N();au();S.find(".lb-loader").remove();var ay=0;if(G.lightBoxZoomAnim==false){ay=1}var ax=S.find("img").stop().show();Y.animate({"margin-top":-Y.outerHeight()},G.lightBoxSpeedFx);if(ax[0]!=g){ax.animate({scale:ay},G.lightBoxSpeedFx,function(){S.fadeOut(100)})}else{S.fadeOut(100)}};var o=function(){ad=false;var aB=u.find(".gbox");p+=1;if(p>=aB.length){p=0}if(!aB.eq(p).is(":visible")){var ax=p;for(var aA=0;aA<aB.length;aA++){ax++;if(ax>=aB.length){ax=0}if(aB.eq(ax).is(":visible")){p=ax;break}}}var ay=aB.eq(p).children("img");var az=aB.eq(p).data("url");ac="";if(az!=g&&G.linkOnLightbox==true){ac="http://"+az}I(ay)};var T=function(){ad=false;var aB=u.find(".gbox");p-=1;if(p<0){p=aB.length-1}if(!aB.eq(p).is(":visible")){var ax=p;for(var aA=0;aA<aB.length;aA++){ax--;if(ax<0){ax=aB.length-1}if(aB.eq(ax).is(":visible")){p=ax;break}}}var ay=aB.eq(p).children("img");var az=aB.eq(p).data("url");ac="";if(az!=g&&G.linkOnLightbox==true){ac="http://"+az}I(ay)};an.on("click",function(){N();au();o()});S.on("click","img",function(){if(ac==""){N();au();o()}else{location.href=ac}});D.on("click",function(){N();au();T()});f(document).keyup(function(ax){if(!G.lightboxKeyboardNav){return}if(ax.keyCode=="37"){if(ao==false){return}N();au();T()}if(ax.keyCode=="39"){if(ao==false){return}N();au();o()}if(ax.keyCode==27){aj()}});if(G.lightBoxAutoPlay){A.addClass("selected");aw=true}A.on("click",function(){y=f(this);if(y.hasClass("selected")){y.removeClass("selected");aw=false;N();au()}else{y.addClass("selected");aw=true;Q()}})};if(typeof j==="string"){var i=Array.prototype.slice.call(arguments,1);this.each(function(){var k=f.data(this,"grid");if(!k){c("cannot call methods on grid prior to initialization; attempted to call method '"+j+"'");return}if(!f.isFunction(k[j])||j.charAt(0)==="_"){c("no such method '"+j+"' for grid instance");return}k[j].apply(k,i)})}else{this.each(function(){var k=f.data(this,"grid");if(k){k.option(j||{});k._init()}else{h(this);f.data(this,"grid",new f.Mason(j,this))}})}return this};f.fn.grid.defaults={categoriesOrder:"byName",imagesOrder:"byDate",orderInAll:false,isFitWidth:true,lazyLoad:true,showNavBar:true,smartNavBar:true,imagesToLoadStart:15,imagesToLoad:5,aleatoryImagesFromCategories:true,horizontalSpaceBetweenThumbnails:5,verticalSpaceBetweenThumbnails:5,columnWidth:"auto",columns:5,columnMinWidth:220,isAnimated:true,caption:true,captionCategory:true,captionType:"grid",lightBox:true,lightboxKeyboardNav:true,lightBoxSpeedFx:500,lightBoxZoomAnim:true,lightBoxText:true,lightboxPlayBtn:true,lightBoxAutoPlay:false,lightBoxPlayInterval:4000,lightBoxShowTimer:true,lightBoxStopPlayOnClose:false,videos:{},linkOnLightbox:false,hiddenStyle:{opacity:0,scale:0.001},visibleStyle:{opacity:1,scale:1}}})(window,jQuery);


